<!doctype html>
<html>
  <head>
    <title>Teste de Login - Strategy Analytics</title>
    <script>
      function testLogin() {
        const iframe = document.getElementById("loginFrame");
        iframe.onload = function () {
          try {
            const iframeDoc =
              iframe.contentDocument || iframe.contentWindow.document;
            const errors = iframeDoc.querySelectorAll(
              ".q-notification--negative",
            );

            if (errors.length > 0) {
              document.getElementById("result").innerHTML =
                "âŒ Erros encontrados na pÃ¡gina de login";
              console.error("Erros:", errors);
            } else {
              document.getElementById("result").innerHTML =
                "âœ… PÃ¡gina de login carregou sem erros";
            }
          } catch (e) {
            document.getElementById("result").innerHTML =
              "âš ï¸ NÃ£o foi possÃ­vel verificar erros (CORS)";
          }
        };

        iframe.onerror = function () {
          document.getElementById("result").innerHTML =
            "âŒ Erro ao carregar a pÃ¡gina";
        };

        iframe.src = "http://localhost:9011";
      }

      // Auto-test apÃ³s carregar
      window.onload = testLogin;
    </script>
  </head>
  <body>
    <h1>ğŸ”§ Teste de IntegraÃ§Ã£o - Strategy Analytics</h1>
    <div id="result">ğŸ”„ Carregando...</div>
    <br />
    <iframe
      id="loginFrame"
      width="100%"
      height="600"
      style="border: 1px solid #ccc"
    ></iframe>

    <h3>ğŸ“‹ Checklist de Testes:</h3>
    <ul>
      <li>âœ… Frontend rodando em http://localhost:9011</li>
      <li>âœ… Backend rodando em http://localhost:3333/api/clients</li>
      <li>âœ… Erro de fonte Roboto corrigido</li>
      <li>âœ… Erro de `auth` undefined corrigido</li>
      <li>ğŸ”„ Teste de login manual pendente</li>
    </ul>

    <h3>ğŸ§ª Para testar o login:</h3>
    <ol>
      <li>Use um CPF vÃ¡lido do backend (ex: 398.780.438-60)</li>
      <li>Use a senha correspondente (ex: 123456)</li>
      <li>O sistema deve redirecionar para /system/</li>
    </ol>
  </body>
</html>
